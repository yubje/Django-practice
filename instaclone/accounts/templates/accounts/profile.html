{% extends 'base.html' %}
{% block body %}
<h2>{{ user.username }}'s Profile</h2>
<hr>


<!--all posts and all likes-->
<p>All Posts | {{ user.article_set.all|length }} posts</p>
<a href="{% url 'accounts:follow_list' user.username %}?list=followers">followers {{ user.followers.all.count }}</a>
<br>
<a href="{% url 'accounts:follow_list' user.username %}?list=followings">followings {{ user.followings.all.count }}</a>
<hr>

<h3>Posts</h3>
{% for article in user.article_set.all %}
  <a href="{% url 'community:detail' article.pk %}">{{ article.title }}</a>
  <br>
{% endfor %}
<p>Total Likes | {{ user.like_articles.all|length }}</p>



<!--Followers Followings-->
<!--if the profile page is someone else's -->
{% if user != request.user %}
    <!--if the user is already following the person-->
    {% if request.user in user.followers.all %}
        <a href="{% url 'accounts:follow' user.username %}" class="btn btn-secondary">
            unfollow
        </a>
    <!--if the user is not following the person-->
    {% else %}
        <a href="{% url 'accounts:follow' user.username %}" class="btn btn-primary">
            follow
        </a>
    {% endif %}
{% endif %}

{% endblock %}